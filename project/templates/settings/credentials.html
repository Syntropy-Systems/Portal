<div class="row">
    <div class="col-sm-2">
        <button class="btn btn-sm btn-warning btn-w-m" ng-click="main_credential.create_dialog()">New Credentials</button>
    </div>
    <div class="col-sm-4 pull-right">
        <ui-select ng-model="main_credential.filters.user" theme="bootstrap" ng-change="main_credential.read_credentials()" ng-if="main_credential.user_type == 'admin'">
            <ui-select-match allow-clear>{$ $select.selected.fullname $}</ui-select-match>
            <ui-select-choices repeat="option in main_credential.clients | filter: $select.search">
                <div ng-bind-html="option.fullname | highlight: $select.search"></div>
            </ui-select-choices>
        </ui-select>
    </div>
</div>
<table class="table" resizeable mode="main_credential.resizeMode" id="table" ng-class="(loading == true) ? 'table_loading' : '' " ng-init="main_credential.read_clients('{{request.user.user_type.code}}')">
    <thead>
        <tr class="hdr_border_r">
            <th custom-sort order="company__name">Company</th>
            {% if request.user.user_type.name == "Admin" %}
            <th>Client</th>
            {% endif %}
            <th>Username</th>
            <th>Password</th>
            <th>URL</th>
            <th>Security Question/Answer</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="record in main_credential.credentials" class="tr_gray" notclicklast loader="main_credential.load_to_edit(record)">
            <td>{$ record.name $}</td>
            {% if request.user.user_type.name == "Admin" %}
            <td>{$ record.user.fullname $}</td>
            {% endif %}
            <td>{$ record.username $}</td>
            <td>{$ record.password $}</td>
            <td>{$ record.url $}</td>
            <td>{$ record.remarks $}</td>
            <td>
                <a href="" ng-click="main_credential.delete(record)"><span><i class="fa fa-trash fa-lg"></i></span></a>
            </td>
        </tr>
    </tbody>
</table>